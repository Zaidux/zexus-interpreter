// Test 'this' keyword in contracts
print("=== Testing 'this' Keyword ===")

contract SimpleContract {
    data balance = 1000
    data owner = "alice"
    
    action get_balance() {
        print("Getting balance using 'this'...")
        return this.balance
    }
    
    action set_balance(new_bal) {
        print("Setting balance using 'this'...")
        this.balance = new_bal
        return this.balance
    }
    
    action get_owner() {
        return this.owner
    }
}

print("\n--- Test 1: Create Contract ---")
let contract = SimpleContract()
print("Contract created")

print("\n--- Test 2: Call get_balance() ---")
let bal = contract.get_balance()
print("Balance:")
print(bal)

print("\n--- Test 3: Call set_balance(2000) ---")
let new_bal = contract.set_balance(2000)
print("New balance:")
print(new_bal)

print("\n--- Test 4: Verify balance was updated ---")
let final_bal = contract.get_balance()
print("Final balance:")
print(final_bal)

print("\n--- Test 5: Get owner ---")
let owner = contract.get_owner()
print("Owner:")
print(owner)

print("\n=== 'this' Keyword Test Complete ===")
