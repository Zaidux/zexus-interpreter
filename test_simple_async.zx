# Test to see if consumer runs at all

print("=== Simple Async Test ===\n")

async action worker(id: integer) {
    print("Worker " + string(id) + ": Starting")
    sleep(0.1)
    print("Worker " + string(id) + ": After sleep")
    sleep(0.1)
    print("Worker " + string(id) + ": Done")
}

print("Main: Starting workers")
async worker(1)
async worker(2)
async worker(3)

print("Main: Sleeping 2 seconds")
sleep(2.0)
print("Main: Done")

print("\n=== Test Complete ===")
