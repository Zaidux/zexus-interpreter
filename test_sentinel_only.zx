// Test sentinel detection
channel number_channel: integer = 10

// Send exactly 2 values
send(number_channel, 10)
send(number_channel, 20)

// Close channel (should add sentinel as 3rd item)
close_channel(number_channel)

// Receive all values including sentinel
let val1 = receive(number_channel)
print("Received 1:", val1)

let val2 = receive(number_channel)
print("Received 2:", val2)

let val3 = receive(number_channel)
print("Received 3 (should be None):", val3)

print("Test complete")
