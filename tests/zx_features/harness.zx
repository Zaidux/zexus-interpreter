// ============================================================================
//  Test Harness â€” shared assert helper
// ============================================================================

let stats = {"total": 0, "passed": 0, "failed": 0}

action assert_test(name, condition) {
    stats["total"] = stats["total"] + 1
    if condition {
        stats["passed"] = stats["passed"] + 1
        print("  [PASS] " + string(name))
    } else {
        stats["failed"] = stats["failed"] + 1
        print("  [FAIL] " + string(name))
    }
}

action report() {
    print("")
    print("=" * 60)
    print("  Total:  " + string(stats["total"]))
    print("  Passed: " + string(stats["passed"]))
    print("  Failed: " + string(stats["failed"]))
    if stats["failed"] == 0 {
        print("  *** ALL TESTS PASSED! ***")
    } else {
        print("  !!! SOME TESTS FAILED !!!")
    }
    print("=" * 60)
}
