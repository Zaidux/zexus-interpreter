#!/usr/bin/env bash
# zx launcher - lightweight wrapper to call the Python CLI
DIR="$(cd "$(dirname "$0")" && pwd)"
PY="${PYTHON:-python3}"
export PYTHONPATH="$DIR/src:$PYTHONPATH"

if [ "$#" -ge 1 ] && [[ "$1" == *.zx ]]; then
  exec "$PY" "$DIR/scripts/main.py" --syntax-style=auto --advanced-parsing run "$1"
else
  exec "$PY" "$DIR/scripts/main.py" "$@"
fi
